<!DOCTYPE html>
<html lang="en">  
    <head> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">   
        <meta http-equiv="Content-Script-Type" content="text/javascript">  
        <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    </head>  
    <body>
        <div class="navbar">
          <div class="navbar-inner">
            <a class="brand" href="#">fancyBookList</a>
            <ul class="nav">
              <li><a href="index.html">Home</a></li>
              <li><a href="#">Add a Book</a></li>
              <li class="active"><a href="readinglist.html">Book List</a></li>
            </ul>
          </div>
        </div>


        <div class = "container">

            <div class="page-header">
                <h1>My fancyBookList <small>This is where all the fancy books go.</small></h1>
            </div>

            <div class = "books">
            </div>
        
        </div>



    </body>
    <script type="text/javascript">    
        var Booklist = function(numRead, numUnread, nextBook,currentBook,lastBook,allBooks) {
            this.numRead = numRead;
            this.numUnread = numUnread;
            this.nextBook = nextBook;
            this.currentBook = currentBook;
            this.lastBook = lastBook;
            this.allBooks = allBooks;
            this.add = function(book) {
                this.allBooks.push(book);
            };
            this.changeNext = function() {
                for (var i =0; i<this.allBooks.length; i++) {
                    if (this.allBooks[i].read === false){
                        if (this.allBooks[i] === this.currentBook) {
                            continue;
                        } else {
                            this.nextBook = this.allBooks[i];
                            break;
                        }
                    }
                }
            };
            this.finishCurrentBook = function() {
                this.currentBook.read = true;
                this.numRead++;
                this.numUnread--;
                this.currentBook.dateRead = new Date();
                this.lastBook = this.currentBook;
                this.currentBook = this.nextBook;
                this.changeNext();
            };
        }

        var Book = function(booktitle, genre, author, read, bookURL, dateRead) {
            this.booktitle = booktitle;
            this.genre = genre;
            this.author = author;
            this.read = read;
            this.dateRead = dateRead;
            this.bookURL = bookURL;
        }

        var Series = function() {
            
        }

        var harryPotter0 = new Book("Harry Potter and the Sorcerer's Stone", "Children", "JK Rowling", true, "http://upload.wikimedia.org/wikipedia/en/b/bf/Harry_Potter_and_the_Sorcerer's_Stone.jpg", new Date(1/1/2001));
        var harryPotter1 = new Book("Harry Potter and the Chamber of Secrets", "Children", "JK Rowling", false, "http://upload.wikimedia.org/wikipedia/en/a/a7/Harry_Potter_and_the_Chamber_of_Secrets_(US_cover).jpg");
        var harryPotter2 = new Book("Harry Potter and the Prisoner of Azkaban", "Children", "JK Rowling", false,"http://upload.wikimedia.org/wikipedia/en/b/b4/Harry_Potter_and_the_Prisoner_of_Azkaban_(US_cover).jpg");
        var harryPotter3 = new Book("Harry Potter and the Goblet of Fire", "Children", "JK Rowling", false, "http://upload.wikimedia.org/wikipedia/en/6/62/Harry_Potter_and_the_Goblet_of_Fire_(US_cover).jpg");

        var listOfBooks = [harryPotter0, harryPotter1, harryPotter2, harryPotter3];
        var firstBooklist = new Booklist(1,3,harryPotter2,harryPotter1,harryPotter0,listOfBooks)

        var pageNode = document.getElementsByClassName('books')[0];
        var newUList = document.createElement('ul');

        for (i = 0; i < listOfBooks.length; i++) {
            var newListItem = document.createElement('li');
            var newBookPhoto = document.createElement('img')
            var bookTitle = document.createTextNode(listOfBooks[i].booktitle + ", " + listOfBooks[i].author);
            if (listOfBooks[i].read == true) {
                newListItem.style.color = 'red';
            }
            newBookPhoto.src = listOfBooks[i].bookURL;
            newListItem.appendChild(bookTitle);
            newListItem.appendChild(document.createElement('br'));
            newListItem.appendChild(newBookPhoto);
            newUList.appendChild(newListItem);
        }

        pageNode.appendChild(newUList);
    </script>
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>    
</html>



